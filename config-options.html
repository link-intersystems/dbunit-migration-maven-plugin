<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src\site\markdown/config-options.md at 2022-09-06
 | Rendered using Apache Maven Fluido Skin 1.11.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>dbunit-migration-maven-plugin &#x2013; Config Options</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.11.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.11.1.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>dbunit-migration-maven-plugin</h1>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2022-09-06<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.4-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="plugin-info.html" title="Goals"><span class="none"></span>Goals</a></li>
    <li><a href="usage.html" title="Usage"><span class="none"></span>Usage</a></li>
    <li class="active"><a><span class="none"></span>Config Options</a></li>
    <li><a href="https://www.apache.org/licenses/LICENSE-2.0" class="externalLink" title="License"><span class="none"></span>License</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>Config Options</h1><section>
<h2><a name="Dataset_Options"></a>Dataset Options</h2>

<div class="source"><pre class="prettyprint"><code class="language-xml">&lt;dataSets&gt;
    &lt;charset&gt;UTF-8&lt;/charset&gt;
    &lt;flatXml&gt;
        &lt;columnSensing&gt;true&lt;/columnSensing&gt;
    &lt;/flatXml&gt;
    &lt;sql&gt;
        &lt;tableLiteralFormatResolverClassName&gt;com.link_intersystems.dbunit.sql.consumer.DefaultTableLiteralFormatResolver&lt;/tableLiteralFormatResolverClassName&gt;
    &lt;/sql&gt;

    &lt;resources&gt;
        &lt;resource&gt;src/test/resources/tiny-sakila-csv&lt;/resource&gt;
        &lt;resource&gt;glob:**/*.xml&lt;/resource&gt;
        &lt;resource&gt;glob:*.xml&lt;/resource&gt;
        &lt;resource&gt;glob:**/*.xls&lt;/resource&gt;
        &lt;resource&gt;glob:*.xls&lt;/resource&gt;
    &lt;/resources&gt;

    &lt;tableOrder&gt;
        &lt;tableorder&gt;language&lt;/tableorder&gt;
        &lt;tableorder&gt;film&lt;/tableorder&gt;
        &lt;tableorder&gt;actor&lt;/tableorder&gt;
        &lt;tableorder&gt;film_actor&lt;/tableorder&gt;
    &lt;/tableOrder&gt;
&lt;/dataSets&gt;
</code></pre></div>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th>Option</th>
<th align="left">Description</th></tr>
</thead><tbody>

<tr class="b">
<td align="left"><b>flatXml</b></td>
<td align="left">Configuration options for flat xml dataset files.</td></tr>
<tr class="a">
<td align="left">flatXml.<b>columnSensing</b></td>
<td align="left">Turns on column sensing for flat xml datasets.<br /><br />For details take a look at <a class="externalLink" href="https://dbunit.org/faq.html#differentcolumnnumber">DBUnit FAQ</a></td></tr>
<tr class="b">
<td align="left"><b>sql</b></td>
<td align="left">Configuration options for sql script files.</td></tr>
<tr class="a">
<td align="left">sql.<b>tableLiteralFormatResolverClassName</b></td>
<td align="left">An implementation of a <a class="externalLink" href="https://github.com/link-intersystems/dbunit-extensions/blob/master/lis-dbunit-sql/src/main/java/com/link_intersystems/dbunit/sql/consumer/TableLiteralFormatResolver.java">TableLiteralFormatResolver</a>. You can provide a custom implementation if you need to customize the way database values are formatted as an sql literal in an SQL script.</td></tr>
<tr class="b">
<td align="left">resources</td>
<td align="left">A list of <code>&lt;resource</code>&gt; entries that describe which dataset resource should be processed. When the resource path starts with <code>glob:</code> it is interpreted as a glob pattern. For details take a look at  <a class="externalLink" href="https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html#getPathMatcher-java.lang.String-">FileSystem.getPathMatcher(String))</a></td></tr>
<tr class="a">
<td align="left">tableOrder</td>
<td align="left">A list of <code>&lt;tableOrder</code>&gt; entries that describe which table processing order. Can be used if foreign key constrains make trouble. The configured table order is also the order of the tables in the output datasets.</td></tr>
</tbody>
</table></section><section>
<h2><a name="Flyway_Options"></a>Flyway Options</h2>

<div class="source"><pre class="prettyprint"><code class="language-xml">&lt;flyway&gt;
    &lt;sourceVersion&gt;1&lt;/sourceVersion&gt;
    &lt;targetVersion&gt;2&lt;/targetVersion&gt;
    &lt;locations&gt;
        &lt;location&gt;\${project.basedir}/src/main/resources/db/migration&lt;/location&gt;
    &lt;/locations&gt;
    &lt;placeholders&gt;
        &lt;new_first_name_column_name&gt;firstname&lt;/new_first_name_column_name&gt;
        &lt;new_last_name_column_name&gt;lastname&lt;/new_last_name_column_name&gt;
    &lt;/placeholders&gt;
&lt;/flyway&gt;
</code></pre></div>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th>Option</th>
<th align="left">Description</th></tr>
</thead><tbody>

<tr class="b">
<td align="left">sourceVersion</td>
<td align="left">The source database schema version the dataset files are based on.</td></tr>
<tr class="a">
<td align="left">targetVersion</td>
<td align="left">The target database schema version that the dataset files should be migrated to.</td></tr>
<tr class="b">
<td align="left">locations</td>
<td align="left">A list of <code>&lt;location</code>&gt; entries where the plugin should look for flyway migration files.<br /><br />For details take a look at <a class="externalLink" href="https://flywaydb.org/documentation/configuration/parameters/locations">Flayway Locations</a></td></tr>
<tr class="a">
<td align="left">placeholders</td>
<td align="left">A list of entries where the tag name is the placeholder name and the tag content the placeholder replacement.<br /><br />For details take a look at <a class="externalLink" href="https://flywaydb.org/documentation/configuration/placeholder">Flyway Placeholders</a></td></tr>
</tbody>
</table></section><section>
<h2><a name="Testcontainers_Options"></a>Testcontainers Options</h2>

<div class="source"><pre class="prettyprint"><code class="language-xml">&lt;testcontainers&gt;
    &lt;image&gt;postgres:latest&lt;/image&gt;
&lt;/testcontainers&gt;
</code></pre></div>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th>Option</th>
<th align="left">Description</th></tr>
</thead><tbody>

<tr class="b">
<td align="left">image</td>
<td align="left">The testcontainers image to use to set up a migration database. The <code>dbunit-migration-maven-plugin</code> depends on the <a class="externalLink" href="https://mvnrepository.com/artifact/com.link-intersystems.dbunit/lis-dbunit-testcontainers"><code>lis-dbunit-testcontainers</code></a> library that has support for postgres and mysql containers.<br /><br /> If you need support for other containers you can use a <code>containerConfig</code> entry or implement your own <code>com.link_intersystems.dbunit.testcontainers.DatabaseContainerSupportProvider</code> and make it available via <code>META-INF/services/com.link_intersystems.dbunit.testcontainers.DatabaseContainerSupportProvider</code>. <br />For details take a look at <a class="externalLink" href="https://github.com/link-intersystems/dbunit-extensions/blob/master/lis-dbunit-testcontainers/lis-dbunit-testcontainers-core/src/main/java/com/link_intersystems/dbunit/testcontainers/DatabaseContainerSupportProvider.java">DatabaseContainerSupportProvider</a></td></tr>
</tbody>
</table><section>
<h3><a name="Testcontainers_Container_Configuration_Options"></a>Testcontainers Container Configuration Options</h3>

<div class="source"><pre class="prettyprint"><code class="language-xml">&lt;testcontainers&gt;
    &lt;containerConfig&gt;
        &lt;dataSource&gt;
            &lt;driverClassName&gt;org.postgresql.Driver&lt;/driverClassName&gt;
            &lt;jdbcUrl&gt;jdbc:postgresql://{{host}}:{{port}}/{{env.POSTGRES_DB}}?loggerLevel=OFF&lt;/jdbcUrl&gt;
            &lt;username&gt;{{env.POSTGRES_USER}}&lt;/username&gt;
            &lt;password&gt;{{env.POSTGRES_PASSWORD}}&lt;/password&gt;
            &lt;testQueryString&gt;SELECT 1&lt;/testQueryString&gt;
        &lt;/dataSource&gt;
        &lt;dockerContainer&gt;
            &lt;exposedPort&gt;5432&lt;/exposedPort&gt;
            &lt;env&gt;
                &lt;POSTGRES_DB&gt;test&lt;/POSTGRES_DB&gt;
                &lt;POSTGRES_USER&gt;test&lt;/POSTGRES_USER&gt;
                &lt;POSTGRES_PASSWORD&gt;test&lt;/POSTGRES_PASSWORD&gt;
            &lt;/env&gt;
            &lt;command&gt;
                &lt;value&gt;postgres&lt;/value&gt;
                &lt;value&gt;-c &lt;/value&gt;
                &lt;value&gt;fsync=off&lt;/value&gt;
            &lt;/command&gt;
        &lt;/dockerContainer&gt;
        &lt;dbunitConfigProperties&gt;
            &lt;!-- DBUnit configuration properties --&gt;
            &lt;property&gt;
                &lt;name&gt;http://www.dbunit.org/properties/datatypeFactory&lt;/name&gt;
                &lt;value&gt;org.dbunit.ext.postgresql.PostgresqlDataTypeFactory&lt;/value&gt;
            &lt;/property&gt;
        &lt;/dbunitConfigProperties&gt;
    &lt;/containerConfig&gt;
&lt;/testcontainers&gt;
</code></pre></div>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th>Option</th>
<th align="left">Description</th></tr>
</thead><tbody>

<tr class="b">
<td align="left"><b>dataSource</b></td>
<td align="left">The main configuration element for the data source that the migration plugin should use</td></tr>
<tr class="a">
<td align="left">dataSource.<b>driverClassName</b></td>
<td align="left">The full qualified name of the Driver class.</td></tr>
<tr class="b">
<td align="left">dataSource.<b>jdbcUrl</b></td>
<td align="left">The jdbc url that the plugin should use to connect to the testcontainer. The follwing variables are substituted by the values provided by the testcontainer: <code>host</code>, <code>port</code>, <code>env.ENVIRONMENT_VAR_NAME</code></td></tr>
<tr class="a">
<td align="left">dataSource.<b>username</b></td>
<td align="left">The username to connect to the database container. The same variable substitution as for dataSource.jdbcurl is supported.</td></tr>
<tr class="b">
<td align="left">dataSource.<b>password</b></td>
<td align="left">The password to connect to the database container. The same variable substitution as for dataSource.jdbcurl is supported.</td></tr>
<tr class="a">
<td align="left">dataSource.<b>testQueryString</b></td>
<td align="left">An sql statement to check if the database is available.</td></tr>
<tr class="b">
<td align="left"><b>dockerContainer</b></td>
<td align="left">The main configuration element for the docker container to use.</td></tr>
<tr class="a">
<td align="left">dockerContainer.<b>exposedPort</b></td>
<td align="left">The port of the container that should be exposed. This is not the same as the port that is used by the variable substitution <code>{{port}}</code>. The exposed port is the port within the container that should be exposted to the outside. Testcontainers selects a port that is available for access from the outside. This selected port is the port that is available by the substitution variable <code>{{port}}</code>.</td></tr>
<tr class="b">
<td align="left">dockerContainer.<b>env</b></td>
<td align="left">The container environment variables configuration. The tag name of each entry is the environment variable name and the content the value.</td></tr>
<tr class="a">
<td align="left">dockerContainer.<b>command</b></td>
<td align="left">The command that should be used when starting the container. If no command is defined the docker image's entry point is used.</td></tr>
<tr class="b">
<td align="left">dockerContainer.<b>dbunitConfigProperties</b></td>
<td align="left">DBUnit configuration for the database container. You can use all DBUnit configuration options listed <a class="externalLink" href="http://dbunit.sourceforge.net/dbunit/properties.html">here</a>.</td></tr>
</tbody>
</table></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2022
<a href="http://www.link-intersystems.com">Link Intersystems GmbH</a>
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>